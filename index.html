<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>스톡지능</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <!-- 상단 헤더 -->
  <header class="topbar">
    <div class="brand">
      <div class="logo">📊</div>
      <div>
        <div class="title">스톡지능</div>
        <div id="userBadge" class="subtitle">게스트</div>
      </div>
    </div>

    <div class="top-actions">
      <button id="btnRefresh" class="icon-btn" title="새로고침">↻</button>
      <button id="btnSearchTop" class="icon-btn" title="검색">🔍</button>
    </div>
  </header>

  <!-- 메인 -->
  <main class="container">
    <!-- 홈 -->
    <section id="pageHome" class="page">
      <div class="card">
        <div class="label">테마 선택</div>
        <select id="themeSelect" class="select">
          <option value="A">A. 기본</option>
          <option value="B">B. 봄</option>
          <option value="C">C. 여름</option>
          <option value="D">D. 가을</option>
          <option value="E">E. 겨울</option>
          <option value="F">F. 고운한복</option>
        </select>
        <div class="hint">※ 프리미엄 글자 표시는 안 넣었다. 테마는 모두 동일 기능.</div>
      </div>

      <div class="card">
        <div class="label">오늘 상태 요약</div>
        <div class="gauge-wrap">
          <div class="gauge">
            <div class="gauge-inner">
              <div id="scoreNum" class="score-num">76</div>
              <div id="scoreLabel" class="score-label">안정</div>
            </div>
          </div>
        </div>
        <div id="scoreDesc" class="desc">
          현재 보유 종목은 관리 가능한 흐름입니다. 급한 행동은 필요 없습니다.
        </div>

        <button id="btnRun" class="btn-primary">분석 실행</button>

        <div class="pill-row">
          <button class="pill">차트</button>
          <button class="pill">뉴스</button>
          <button class="pill">리스크</button>
        </div>

        <div class="divider"></div>

        <div class="sub-card">
          <div class="sub-title">저장 리스트</div>
          <div class="sub-desc">관심 종목 저장/삭제/정렬(회원 기능). 지금은 UI 자리만 잡아둠.</div>
          <button id="btnSavedList" class="btn-ghost">저장 리스트 열기</button>
        </div>

        <div class="sub-card">
          <div class="sub-title">알림</div>
          <div class="sub-desc">점수 변동/리스크 상승 알림(회원 기능). 지금은 UI 자리만 잡아둠.</div>
          <button id="btnAlerts" class="btn-ghost">알림 설정 열기</button>
        </div>

        <div class="sub-card">
          <div class="sub-title">배너 광고</div>
          <div class="sub-desc">게스트는 24시간 노출. 회원은 1분 광고 시청 시 24시간 숨김.</div>
          <div class="row-between">
            <span id="adStateText" class="muted">게스트는 항상 노출</span>
            <button id="btnAdPolicy" class="btn-chip">자세히</button>
          </div>
        </div>
      </div>
    </section>

    <!-- 포트폴리오 -->
    <section id="pagePortfolio" class="page hidden">
      <div class="card">
        <div class="label">포트폴리오</div>
        <div class="desc">현재 자산은 관리 가능한 범위입니다. (다음 단계: 보유종목 리스트 + 상세 페이지 연결)</div>

        <!-- 게스트 전용 -->
        <div class="guest-only">
          <button class="btn-primary" id="btnLoginFromPortfolio">로그인하기</button>
        </div>

        <!-- 회원 전용 -->
        <div class="member-only hidden">
          <div class="sub-card">
            <div class="sub-title">회원 포트폴리오 영역</div>
            <div class="sub-desc">여기부터 회원 전용 기능이 들어갑니다.</div>
          </div>
        </div>
      </div>
    </section>

    <!-- 검색 -->
    <section id="pageSearch" class="page hidden">
      <div class="card">
        <div class="label">검색</div>
        <div class="desc">종목 검색/추가 기능 자리(다음 단계에서 연결)</div>

        <div class="guest-only">
          <button class="btn-primary" id="btnLoginFromSearch">로그인하기</button>
        </div>

        <div class="member-only hidden">
          <div class="sub-card">
            <div class="sub-title">회원 검색/추가 영역</div>
            <div class="sub-desc">회원만 종목 저장/추가 가능하게 확장.</div>
          </div>
        </div>
      </div>
    </section>

    <!-- 설정 -->
    <section id="pageSettings" class="page hidden">
      <div class="card">
        <div class="label">설정</div>
        <div class="desc">현재 상태</div>
        <div class="sub-title" style="margin-top:8px;">회원</div>

        <div class="divider"></div>

        <div class="checklist">
          <div>✅ 게스트 제한<br><span class="muted">- 저장 리스트 관리 불가<br>- 알림 설정 불가</span></div>
          <div style="margin-top:10px;">✅ 회원 광고 정책<br><span class="muted">- 배너 광고 기본 ON<br>- “1분 광고 보기” 완료 시 24시간 배너 숨김</span></div>
        </div>

        <div class="divider"></div>

        <button id="btnAdReset" class="btn-ghost">광고 다시 켜기(테스트)</button>
        <button id="btnLogout" class="btn-danger">로그아웃(게스트로)</button>
      </div>
    </section>
  </main>

  <!-- 하단 탭 -->
  <nav class="tabbar">
    <button class="tab" data-tab="home" id="tabHome">홈</button>
    <button class="tab" data-tab="portfolio" id="tabPortfolio">포트폴리오</button>
    <button class="tab" data-tab="search" id="tabSearch">검색</button>
    <button class="tab" data-tab="settings" id="tabSettings">설정</button>
  </nav>

  <!-- 공용 모달 -->
  <div id="modal" class="modal hidden">
    <div class="modal-card">
      <div class="modal-head">
        <div id="modalTitle" class="modal-title">제목</div>
        <button id="modalClose" class="icon-btn">✕</button>
      </div>
      <div id="modalBody" class="modal-body"></div>
      <div id="modalActions" class="modal-actions"></div>
    </div>
  </div>

  <script src="./app.js"></script>
</body>
</html>
